# ============================================================================
# ç°¡å ±ç”Ÿæˆç³»çµ± - ä¸»ç¨‹å¼ (Presentation Generator - Main)
# ============================================================================
# èªªæ˜ï¼šAI é©…å‹•çš„ç°¡å ±ç”Ÿæˆç³»çµ±
# åŠŸèƒ½ï¼šè‡ªå‹•ç”ŸæˆèƒŒæ™¯åœ–ç‰‡ã€æ¸²æŸ“ HTML é è¦½ã€åŒ¯å‡º PowerPoint æª”æ¡ˆ
# ç‰¹è‰²ï¼šå¤šé¢¨æ ¼æ”¯æ´ã€éåŒæ­¥è™•ç†ã€é›™æ¨¡æ…‹è¼¸å‡ºï¼ˆHTML + PPTXï¼‰
# æ¶æ§‹ï¼šæ¡ç”¨ç®¡é“æ¨¡å¼ (Pipeline Pattern)
# ============================================================================

# æ¨™æº–å‡½å¼åº«åŒ¯å…¥
import asyncio  # éåŒæ­¥ç¨‹å¼æ”¯æ´
import logging  # æ—¥èªŒè¨˜éŒ„åŠŸèƒ½

# å°ˆæ¡ˆå…§éƒ¨æ¨¡çµ„åŒ¯å…¥
from src.models import AppConfig, ImageGenRequest, SlideContent  # è³‡æ–™æ¨¡å‹
from src.providers import Gemini3Provider  # AI åœ–åƒç”Ÿæˆæä¾›è€…
from src.renderer import PresentationRenderer  # HTML æ¸²æŸ“å¼•æ“
from src.exporter import PptxExporter  # PowerPoint åŒ¯å‡ºå™¨
from src.styles import StyleRegistry, StyleType  # é¢¨æ ¼è¨»å†Šè¡¨èˆ‡é¡å‹

# ============================================================================
# æ—¥èªŒç³»çµ±é…ç½® (Logging Configuration)
# ============================================================================

# é…ç½®æ—¥èªŒç³»çµ±ï¼šINFO ç­‰ç´šã€æ™‚é–“æ ¼å¼åŒ–
logging.basicConfig(
    level=logging.INFO,  # æ—¥èªŒç­‰ç´šï¼šINFOï¼ˆé¡¯ç¤ºä¸€èˆ¬è³‡è¨Šï¼‰
    format='%(asctime)s - %(message)s',  # æ ¼å¼ï¼šæ™‚é–“ - è¨Šæ¯
    datefmt='%H:%M:%S'  # æ™‚é–“æ ¼å¼ï¼šæ™‚:åˆ†:ç§’
)

# å»ºç«‹å°ˆå±¬ Logger å¯¦ä¾‹
logger = logging.getLogger("PresentationGenerator")

# ============================================================================
# ä¸»ç¨‹å¼æµç¨‹ (Main Program Flow)
# ============================================================================
async def main():
    """
    ä¸»ç¨‹å¼é€²å…¥é»
    
    åŠŸèƒ½ï¼š
    - è¼‰å…¥é…ç½®èˆ‡é¢¨æ ¼è¨­å®š
    - åˆå§‹åŒ–å„å€‹å¼•æ“æ¨¡çµ„
    - å®šç¾©ç°¡å ±å…§å®¹çµæ§‹
    - ä½¿ç”¨ AI ç”ŸæˆèƒŒæ™¯åœ–ç‰‡
    - è¼¸å‡º HTML é è¦½èˆ‡ PPTX æª”æ¡ˆ
    
    è™•ç†æµç¨‹ï¼š
    1. å•Ÿå‹•æª¢æŸ¥èˆ‡é…ç½®è¼‰å…¥
    2. è¼‰å…¥è¦–è¦ºé¢¨æ ¼
    3. åˆå§‹åŒ–å¼•æ“æ¨¡çµ„
    4. å®šç¾©ç°¡å ±å…§å®¹
    5. æ‰¹æ¬¡ç”ŸæˆèƒŒæ™¯åœ–ç‰‡ï¼ˆéåŒæ­¥å¹³è¡Œè™•ç†ï¼‰
    6. ç¶å®šç”Ÿæˆçµæœ
    7. é›™æ¨¡æ…‹è¼¸å‡ºï¼ˆHTML + PPTXï¼‰
    
    è¨­è¨ˆæ¨¡å¼ï¼š
    - ç®¡é“æ¨¡å¼ (Pipeline Pattern)ï¼šè³‡æ–™ä¾åºé€šéå„å€‹è™•ç†éšæ®µ
    - ç­–ç•¥æ¨¡å¼ (Strategy Pattern)ï¼šå¯åˆ‡æ›ä¸åŒè¦–è¦ºé¢¨æ ¼
    """
    
    # ========================================================================
    # æ­¥é©Ÿ 1: å•Ÿå‹•æª¢æŸ¥èˆ‡é…ç½®è¼‰å…¥
    # ========================================================================
    logger.info("ğŸš€ ç³»çµ±å•Ÿå‹•ä¸­...")
    
    try:
        # è¼‰å…¥æ‡‰ç”¨ç¨‹å¼é…ç½®ï¼ˆå¾ .env æª”æ¡ˆè®€å–ï¼‰
        # åŒ…å«ï¼šGoogle API Keyã€æ¨¡å‹åç¨±ç­‰
        config = AppConfig()
        logger.info("âœ… é…ç½®æª”è¼‰å…¥æˆåŠŸ")
        
    except Exception as e:
        # é…ç½®è¼‰å…¥å¤±æ•—ï¼šå¯èƒ½æ˜¯ç¼ºå°‘ .env æª”æ¡ˆæˆ– API Key ç„¡æ•ˆ
        logger.error(f"âŒ è¨­å®šæª”éŒ¯èª¤ (è«‹æª¢æŸ¥ .env): {e}")
        return  # çµ‚æ­¢ç¨‹å¼åŸ·è¡Œ

    # ========================================================================
    # æ­¥é©Ÿ 2: è¼‰å…¥è¦–è¦ºé¢¨æ ¼
    # ========================================================================
    
    # é¢¨æ ¼é¸æ“‡å€åŸŸï¼ˆå¯è‡ªè¨‚ï¼‰
    # å¯ç”¨é¢¨æ ¼åˆ—è¡¨ï¼š
    # - "taipei_metro"      : å°åŒ—æ·é‹é¢¨æ ¼ï¼ˆæ˜äº®ç°¡æ½”ï¼‰
    # - "modern_cafe"       : ç¾ä»£æ–‡é’å’–å•¡é¤¨é¢¨æ ¼ï¼ˆæº«æš–è‡ªç„¶ï¼‰
    # - "minimal_concrete"  : æ¸…æ°´æ¨¡æ¥µç°¡é¢¨æ ¼ï¼ˆå·¥æ¥­ç¾å­¸ï¼‰
    # - "warm_wood"         : æº«æš–æœ¨è³ªé¢¨æ ¼ï¼ˆåŒ—æ­è¨­è¨ˆï¼‰
    # - "tech_gradient"     : ç§‘æŠ€æ¼¸å±¤é¢¨æ ¼ï¼ˆæœªä¾†æ„Ÿï¼‰
    # - "flat_infographic"  : æ‰å¹³åŒ–è³‡è¨Šåœ–è¡¨é¢¨æ ¼ï¼ˆä¼æ¥­ç´šï¼‰
    selected_style = "flat_infographic"  # ğŸ”§ ä¿®æ”¹æ­¤è™•å¯åˆ‡æ›é¢¨æ ¼
    
    # å¾é¢¨æ ¼è¨»å†Šè¡¨å–å¾—å°æ‡‰çš„é¢¨æ ¼è¨­å®šæª”
    style = StyleRegistry.get(selected_style)
    logger.info(f"ğŸ¨ é¢¨æ ¼å•Ÿå‹•: {style.name}")

    # ========================================================================
    # æ­¥é©Ÿ 3: åˆå§‹åŒ–å¼•æ“æ¨¡çµ„
    # ========================================================================
    logger.info("âš™ï¸ åˆå§‹åŒ–å¼•æ“æ¨¡çµ„...")
    
    # åˆå§‹åŒ– AI åœ–åƒç”Ÿæˆæä¾›è€…ï¼ˆä½¿ç”¨ Google Gemini 3ï¼‰
    provider = Gemini3Provider(
        api_key=config.google_api_key,  # API é‡‘é‘°
        model_name=config.img_model      # æ¨¡å‹åç¨±
    )
    
    # åˆå§‹åŒ– HTML æ¸²æŸ“å™¨ï¼ˆç”¨æ–¼ç”Ÿæˆé è¦½ç¶²é ï¼‰
    renderer = PresentationRenderer()
    
    # åˆå§‹åŒ– PowerPoint åŒ¯å‡ºå™¨ï¼ˆç”¨æ–¼ç”Ÿæˆ PPTX æª”æ¡ˆï¼‰
    exporter = PptxExporter()
    
    logger.info("âœ… å¼•æ“æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ")

    # ========================================================================
    # æ­¥é©Ÿ 4: å®šç¾©ç°¡å ±å…§å®¹çµæ§‹
    # ========================================================================
    logger.info("ğŸ“ å®šç¾©ç°¡å ±å…§å®¹...")
    
    # å»ºç«‹ç°¡å ±é é¢åˆ—è¡¨
    # æ¯ä¸€é åŒ…å«ï¼šIDã€æ¡†æ¶ç« ç¯€ã€æ¨™é¡Œã€å…§æ–‡
    # framework_section ç”¨æ–¼å°æ˜ è·¯ç·šé¡è‰²ï¼ˆç´…ç·šã€æ£•ç·šã€è—ç·šã€ç¶ ç·šï¼‰
    slides = [
        # ç¬¬ 1 é ï¼šé–‹å ´ï¼ˆç´…ç·š - æ ¸å¿ƒè«–è¿°ï¼‰
        SlideContent(
            slide_id="S01",  # æŠ•å½±ç‰‡å”¯ä¸€è­˜åˆ¥ç¢¼
            framework_section="point_opening",  # å°æ˜ åˆ°ç´…ç·šé…è‰²
            title="å•Ÿå‹•æ•¸ä½è½‰å‹åˆ—è»Š",  # é é¢æ¨™é¡Œ
            body_text=(
                "æœ¬ç­åˆ—è»Šé–‹å¾€ï¼šæœªä¾†ã€‚\n"
                "æ ¸å¿ƒç›®æ¨™ï¼šåˆ©ç”¨ AI æŠ€è¡“é‡å¡‘ä¼æ¥­ç«¶çˆ­åŠ›ï¼Œæ¸›å°‘ 40% ç‡Ÿé‹æ‘©æ“¦åŠ›ã€‚"
            )  # é é¢å…§æ–‡
        ),
        
        # ç¬¬ 2 é ï¼šåˆ†æï¼ˆæ£•ç·š - æ•¸æ“šåˆ†æï¼‰
        SlideContent(
            slide_id="S02",  # æŠ•å½±ç‰‡å”¯ä¸€è­˜åˆ¥ç¢¼
            framework_section="reasons",  # å°æ˜ åˆ°æ£•ç·šé…è‰²
            title="ç¾æ³æ•¸æ“šæª¢æ¸¬",  # é é¢æ¨™é¡Œ
            body_text=(
                "1. æ•¸æ“šå­¤å³¶é€ æˆæ±ºç­–å»¶é² (Delay)\n"
                "2. äººåŠ›ç¶­è­·æˆæœ¬éé«˜ (High Cost)\n"
                "3. å®¢æˆ¶é«”é©—ç¢ç‰‡åŒ– (Fragmented)"
            )  # é é¢å…§æ–‡
        ),
        
        # ç¬¬ 3 é ï¼šæ¡ˆä¾‹ï¼ˆè—ç·š - é—œéµæ¨ç´ï¼‰
        SlideContent(
            slide_id="S03",  # æŠ•å½±ç‰‡å”¯ä¸€è­˜åˆ¥ç¢¼
            framework_section="examples",  # å°æ˜ åˆ°è—ç·šé…è‰²
            title="é—œéµæ¨ç´ï¼šGemini æ•´åˆ",  # é é¢æ¨™é¡Œ
            body_text=(
                "é€é API ä¸²æ¥ï¼Œå°‡ Gemini 3 Pro ä½œç‚ºä¸­å¤®è½‰é‹ç«™ï¼Œ"
                "é€£çµ CRM èˆ‡ ERP ç³»çµ±ã€‚"
            )  # é é¢å…§æ–‡
        ),
        
        # ç¬¬ 4 é ï¼šçµè«–ï¼ˆç¶ ç·š - åŸ·è¡Œæ–¹æ¡ˆï¼‰
        SlideContent(
            slide_id="S04",  # æŠ•å½±ç‰‡å”¯ä¸€è­˜åˆ¥ç¢¼
            framework_section="point_closing",  # å°æ˜ åˆ°ç¶ ç·šé…è‰²
            title="åŸ·è¡Œè·¯å¾‘åœ–",  # é é¢æ¨™é¡Œ
            body_text=(
                "Q1: åŸºç¤å»ºè¨­èˆ‡ API å°æ¥\n"
                "Q2: å°å…¥è‡ªå‹•åŒ–å·¥ä½œæµ\n"
                "Q3: å…¨ç·šé€šè»Šï¼Œé©—æ”¶æˆæ•ˆ"
            )  # é é¢å…§æ–‡
        )
    ]
    
    logger.info(f"âœ… å·²å®šç¾© {len(slides)} é ç°¡å ±å…§å®¹")

    # ========================================================================
    # æ­¥é©Ÿ 5: æ‰¹æ¬¡ç”ŸæˆèƒŒæ™¯åœ–ç‰‡ï¼ˆéåŒæ­¥å¹³è¡Œè™•ç†ï¼‰
    # ========================================================================
    logger.info(f"ğŸ¨ é–‹å§‹ç”Ÿæˆ {len(slides)} å€‹æ°›åœèƒŒæ™¯åœ–...")
    logger.info(f"   ä½¿ç”¨æ¨¡å‹: Imagen 3")
    logger.info(f"   ä½¿ç”¨é¢¨æ ¼: {style.name}")
    
    # å»ºç«‹éåŒæ­¥ä»»å‹™åˆ—è¡¨
    tasks = []
    
    # éæ­·æ‰€æœ‰ç°¡å ±é é¢ï¼Œç‚ºæ¯é å»ºç«‹åœ–ç‰‡ç”Ÿæˆä»»å‹™
    for slide in slides:
        # æ­¥é©Ÿ 5.1: å–å¾—è©²é å°æ‡‰çš„å‰ç¥¥ç‰©/è¦–è¦ºå…ƒç´ å‹•ä½œæè¿°
        # ä¾‹å¦‚ï¼š"Standing at attention, saluting to welcome passengers."
        mascot_action = style.mascot_actions.get(
            slide.framework_section,  # æ¡†æ¶ç« ç¯€
            "in a neutral pose"       # é è¨­å‹•ä½œï¼ˆè‹¥æ‰¾ä¸åˆ°å°æ‡‰å‹•ä½œï¼‰
        )
        
        # æ­¥é©Ÿ 5.2: çµ„åˆå®Œæ•´çš„ AI æç¤ºè©
        # çµæ§‹ï¼šåŸºç¤é¢¨æ ¼ + å‰ç¥¥ç‰©å‹•ä½œ + æŠ€è¡“è¦æ±‚
        background_prompt = (
            f"{style.base_prompt_modifier} "  # åŸºç¤é¢¨æ ¼æç¤ºè©ï¼ˆä¾‹å¦‚ï¼šæ·é‹ç«™ç’°å¢ƒï¼‰
            f"{mascot_action} "               # å‰ç¥¥ç‰©å‹•ä½œæè¿°
            # æŠ€è¡“è¦æ±‚ï¼šä¸­å¤®å€åŸŸç•™ç™½ã€æ™¯æ·±æ¨¡ç³Šã€é©åˆæ–‡å­—ç–ŠåŠ 
            f"CRITICAL: Heavy depth of field blur or soft focus, "
            f"the center 60% area should be clean and minimal to allow text overlay. "
            f"Keep visual elements subtle and in the background/edges. "
            f"16:9 aspect ratio, professional presentation background."
        )
        
        # æ­¥é©Ÿ 5.3: å»ºç«‹åœ–ç‰‡ç”Ÿæˆè«‹æ±‚ä¸¦åŠ å…¥ä»»å‹™åˆ—è¡¨
        tasks.append(
            provider.generate(ImageGenRequest(prompt=background_prompt))
        )
    
    # æ­¥é©Ÿ 5.4: å¹³è¡ŒåŸ·è¡Œæ‰€æœ‰åœ–ç‰‡ç”Ÿæˆä»»å‹™
    # asyncio.gather(*tasks) æœƒåŒæ™‚åŸ·è¡Œæ‰€æœ‰ä»»å‹™ä¸¦ç­‰å¾…å…¨éƒ¨å®Œæˆ
    # å„ªé»ï¼šå¤§å¹…ç¸®çŸ­ç¸½åŸ·è¡Œæ™‚é–“ï¼ˆå¹³è¡Œè™•ç† vs åºåˆ—è™•ç†ï¼‰
    results = await asyncio.gather(*tasks)
    
    logger.info("âœ… èƒŒæ™¯åœ–ç‰‡ç”Ÿæˆå®Œæˆ")

    # ========================================================================
    # æ­¥é©Ÿ 6: ç¶å®šç”Ÿæˆçµæœåˆ°ç°¡å ±é é¢
    # ========================================================================
    logger.info("ğŸ”— ç¶å®šç”Ÿæˆçµæœ...")
    
    # ä½¿ç”¨ zip() å°‡ç°¡å ±é é¢èˆ‡å°æ‡‰çš„ç”Ÿæˆçµæœé…å°
    for slide, res in zip(slides, results):
        if res.success:
            # ç”ŸæˆæˆåŠŸï¼šå°‡åœ–ç‰‡è³‡æ–™ç¶å®šåˆ°ç°¡å ±é é¢
            slide.background_image_base64 = res.image_base64  # Base64 ç·¨ç¢¼çš„åœ–ç‰‡
            slide.rationale = res.text_content  # AI ç”Ÿæˆçš„è¨­è¨ˆç†å¿µæ–‡å­—ï¼ˆå¯é¸ï¼‰
            logger.info(f"   âœ… {slide.title}")
        else:
            # ç”Ÿæˆå¤±æ•—ï¼šè¨˜éŒ„è­¦å‘Šè¨Šæ¯
            logger.warning(f"   âš ï¸ {slide.title}: {res.error}")
    
    logger.info("âœ… çµæœç¶å®šå®Œæˆ")

    # ========================================================================
    # æ­¥é©Ÿ 7: é›™æ¨¡æ…‹è¼¸å‡ºï¼ˆHTML + PPTXï¼‰
    # ========================================================================
    logger.info("ğŸ’¾ é–‹å§‹è¼¸å‡ºæª”æ¡ˆ...")
    
    # ---- è¼¸å‡º A: HTML é è¦½æª” ----
    # ç”¨é€”ï¼šå¿«é€Ÿé è¦½ã€ç¶²é åˆ†äº«ã€è¢å¹•å±•ç¤º
    # ç‰¹è‰²ï¼šéŸ¿æ‡‰å¼è¨­è¨ˆã€é€²åº¦æŒ‡ç¤ºå™¨ã€æ·é‹ç«™ç‰Œç¾å­¸
    output_html_path = "metro_preview.html"
    
    try:
        # ä½¿ç”¨æ¸²æŸ“å™¨ç”Ÿæˆ HTML å…§å®¹
        html_content = renderer.render(slides, style)
        
        # å¯«å…¥æª”æ¡ˆï¼ˆä½¿ç”¨ UTF-8 ç·¨ç¢¼ä»¥æ”¯æ´ä¸­æ–‡ï¼‰
        with open(output_html_path, "w", encoding="utf-8") as f:
            f.write(html_content)
        
        logger.info(f"   ğŸ“„ HTML é è¦½æª”: {output_html_path}")
        logger.info(f"      ç‰¹è‰²: æ¸…æ™°å¯è®€ã€è¦–è¦ºåˆ†æ˜ã€éŸ¿æ‡‰å¼è¨­è¨ˆ")
        
    except Exception as e:
        logger.error(f"   âŒ HTML è¼¸å‡ºå¤±æ•—: {e}")
    
    # ---- è¼¸å‡º B: PowerPoint äº¤ä»˜æª” ----
    # ç”¨é€”ï¼šæ­£å¼ç°¡å ±ã€åˆ—å°ã€é€²ä¸€æ­¥ç·¨è¼¯
    # ç‰¹è‰²ï¼š16:9 å¯¬è¢å¹•ã€æ–‡å­—èƒŒæ™¯è‰²å¡Šã€é€²åº¦æŒ‡ç¤ºå™¨
    output_pptx_path = "metro_presentation.pptx"
    
    try:
        # ä½¿ç”¨åŒ¯å‡ºå™¨ç”Ÿæˆ PPTX æª”æ¡ˆ
        exporter.export(slides, output_pptx_path, style)
        
        logger.info(f"   ğŸ’¾ PPTX ç°¡å ±æª”: {output_pptx_path}")
        logger.info(f"      ç‰¹è‰²: é«˜å°æ¯”åº¦ã€æ–‡å­—æ¸…æ™°ã€å°ˆæ¥­æ’ç‰ˆ")
        
    except Exception as e:
        logger.error(f"   âŒ PPTX è¼¸å‡ºå¤±æ•—: {e}")
    
    # ========================================================================
    # å®Œæˆè¨Šæ¯
    # ========================================================================
    logger.info("=" * 60)
    logger.info("ğŸ‰ ç°¡å ±ç”Ÿæˆå®Œæˆï¼")
    logger.info(f"   é¢¨æ ¼: {style.name}")
    logger.info(f"   é æ•¸: {len(slides)} é ")
    logger.info(f"   è¼¸å‡º: HTML + PPTX")
    logger.info("=" * 60)

# ============================================================================
# ç¨‹å¼é€²å…¥é» (Entry Point)
# ============================================================================
if __name__ == "__main__":
    """
    ç¨‹å¼åŸ·è¡Œé€²å…¥é»
    
    åŠŸèƒ½ï¼š
    - å•Ÿå‹•éåŒæ­¥äº‹ä»¶å¾ªç’°
    - åŸ·è¡Œä¸»ç¨‹å¼
    - è™•ç†éµç›¤ä¸­æ–·èˆ‡ä¾‹å¤–
    
    æŠ€è¡“ç´°ç¯€ï¼š
    - asyncio.run() æœƒè‡ªå‹•å»ºç«‹ä¸¦ç®¡ç†äº‹ä»¶å¾ªç’°
    - ç¨‹å¼çµæŸæ™‚æœƒè‡ªå‹•æ¸…ç†è³‡æº
    """
    try:
        # åŸ·è¡ŒéåŒæ­¥ä¸»ç¨‹å¼
        asyncio.run(main())
        
    except KeyboardInterrupt:
        # ä½¿ç”¨è€…æŒ‰ä¸‹ Ctrl+C ä¸­æ–·ç¨‹å¼
        logger.info("\nâš ï¸ ä½¿ç”¨è€…ä¸­æ–·ç¨‹å¼åŸ·è¡Œ")
        
    except Exception as e:
        # æ•æ‰æ‰€æœ‰æœªé æœŸçš„éŒ¯èª¤
        logger.error(f"\nâŒ ç¨‹å¼åŸ·è¡Œå¤±æ•—: {e}")
        raise  # é‡æ–°æ‹‹å‡ºä¾‹å¤–ä»¥é¡¯ç¤ºå®Œæ•´éŒ¯èª¤å †ç–Š

# ============================================================================
# æ¨¡çµ„å®šç¾©å®Œæˆ
# ============================================================================
#
# ä½¿ç”¨æŒ‡å—ï¼š
# 1. ç¢ºä¿ .env æª”æ¡ˆåŒ…å« GOOGLE_API_KEY
# 2. åœ¨æ­¥é©Ÿ 2 ä¿®æ”¹ selected_style åˆ‡æ›é¢¨æ ¼
# 3. åœ¨æ­¥é©Ÿ 4 ä¿®æ”¹ slides åˆ—è¡¨è‡ªè¨‚ç°¡å ±å…§å®¹
# 4. åŸ·è¡Œ: python -m src.main
#
# è¼¸å‡ºæª”æ¡ˆï¼š
# - metro_preview.html : HTML é è¦½æª”ï¼ˆå¯ç”¨ç€è¦½å™¨é–‹å•Ÿï¼‰
# - metro_presentation.pptx : PowerPoint ç°¡å ±æª”ï¼ˆå¯ç”¨ PPT é–‹å•Ÿï¼‰
#
# æŠ€è¡“æ¶æ§‹ï¼š
# - éåŒæ­¥è™•ç†ï¼šæå‡ AI åœ–ç‰‡ç”Ÿæˆæ•ˆç‡
# - æ¨¡çµ„åŒ–è¨­è¨ˆï¼šå„åŠŸèƒ½ç¨ç«‹ï¼Œæ˜“æ–¼ç¶­è­·èˆ‡æ“´å……
# - ç®¡é“æ¨¡å¼ï¼šè³‡æ–™ä¾åºæµéå„å€‹è™•ç†éšæ®µ
# - ç­–ç•¥æ¨¡å¼ï¼šæ”¯æ´å¤šç¨®è¦–è¦ºé¢¨æ ¼åˆ‡æ›
#
# æ•ˆèƒ½å„ªåŒ–ï¼š
# - å¹³è¡Œç”Ÿæˆåœ–ç‰‡ï¼šn å¼µåœ–ç‰‡åªéœ€ 1 å€æ™‚é–“ï¼ˆvs n å€æ™‚é–“ï¼‰
# - è¨˜æ†¶é«”æ•ˆç‡ï¼šä½¿ç”¨ä¸²æµè™•ç†ï¼Œé¿å…å¤§é‡è¨˜æ†¶é«”å ç”¨
# - éŒ¯èª¤éš”é›¢ï¼šå–®å¼µåœ–ç‰‡å¤±æ•—ä¸å½±éŸ¿å…¶ä»–åœ–ç‰‡ç”Ÿæˆ
# ============================================================================